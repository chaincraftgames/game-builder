# ChainCraft Game Builder - Environment Configuration
#
# Copy this file to .env and replace the placeholder values with your actual configuration.
# DO NOT commit your .env file - it's already in .gitignore
#
# REQUIRED for Integration Tests:
#   - ANTHROPIC_API_KEY: Your Anthropic Claude API key (get from https://console.anthropic.com/)
#
# See docs/TESTING_WITH_SECRETS.md for detailed setup instructions.

NODE_ENV=development

CHAINCRAFT_GAMEBUILDER_API_KEY=secret-key

# Internal API Token
# Used to authenticate internal endpoints like /internal/cleanup
# Set this to a secure random string in production
# Example: openssl rand -hex 32
CHAINCRAFT_GAMEBUILDER_INTERNAL_API_TOKEN=internal-secret-key

# Anthropic API Key
ANTHROPIC_API_KEY=your-api-key
ANTHROPIC_API_KEY_CREATE=your-api-key
ANTHROPIC_API_KEY_SIM=your-api-key
ANTHROPIC_API_KEY_PLAY=your-api-key

LATEST_SONNET_MODEL=claude-sonnet-4-5-20250929
LATEST_HAIKU_MODEL=claude-haiku-4-5-20251001
HAIKU_3_5_MODEL=claude-3-5-haiku-20241022

# This model is used for most design tasks
CHAINCRAFT_DESIGN_MODEL_NAME=${LATEST_HAIKU_MODEL}

# This model is used for most simulation tasks
CHAINCRAFT_SIMULATION_MODEL_NAME=${LATEST_HAIKU_MODEL}

CHAINCRAFT_DESIGN_GRAPH_CACHE_SIZE=100
CHAINCRAFT_SIM_GRAPH_CACHE_SIZE=100

# Optional configurations
# Design agent model overrides (uses CHAINCRAFT_DESIGN_MODEL_NAME if not specified)
# Conversation agent model - use Haiku 3.5 due to lower caching limit.
CHAINCRAFT_CONVERSATIONAL_AGENT_MODEL=${HAIKU_3_5_MODEL}
# Spec Execute Agent - Generates full specifications (requires Sonnet 4.5 for quality/capacity)
CHAINCRAFT_SPEC_EXECUTE_MODEL=${LATEST_SONNET_MODEL}
# Spec Narrative Agent - Generates narrative descriptions for game specs 
# (uses Sonnet 4.5 for quality and conciseness)
CHAINCRAFT_SPEC_NARRATIVE_MODEL=${LATEST_SONNET_MODEL}

# Simulation agent model overrides (uses CHAINCRAFT_SIMULATION_MODEL_NAME if not specified)
# Schema extraction requires Sonnet 4.5 for complex structured output (Haiku hits token limits)
CHAINCRAFT_SIM_SCHEMA_EXTRACTION_MODEL=${LATEST_SONNET_MODEL}
# Transitions planner - testing with Sonnet 4.5 for better understanding of denormalization patterns
CHAINCRAFT_SPEC_TRANSITIONS_MODEL=${LATEST_SONNET_MODEL}
# Instructions planner requires Sonnet 4.5 for extended context windows and high quality output
CHAINCRAFT_SIM_INSTRUCTIONS_MODEL=${LATEST_SONNET_MODEL}

# LangSmith
LANGSMITH_API_KEY=your-api-key
LANGSMITH_TRACING=true
LANGSMITH_ENDPOINT="https://api.smith.langchain.com"
CHAINCRAFT_DESIGN_TRACER_PROJECT_NAME=chaincraft-design
CHAINCRAFT_SIMULATION_TRACER_PROJECT_NAME=chaincraft-simulation
CHAINCRAFT_ARTIFACT_CREATION_TRACER_PROJECT_NAME=chaincraft-artifact-create
CHAINCRAFT_PLAY_TRACER_PROJECT_NAME=chaincraft-play

# Pinata
CHAINCRAFT_PINATA_GATEWAY=harlequin-far-crow-830.mypinata.cloud
CHAINCRAFT_PINATA_API_KEY=your-api-key
CHAINCRAFT_PINATA_JWT=your-jwt

# Discord
CHAINCRAFT_DISCORD_APP_ID=1250218087354204170
CHAINCRAFT_DISCORD_PUBLIC_KEY=f19fd24d1f4759891f3e9c8b3add79418aefb846794d5e6fc6cf10dd2e6240c6
CHAINCRAFT_GUILD_ID=1225477334778515607
CHAINCRAFT_DESIGN_CHANNEL_ID=1251278996780613702
CHAINCRAFT_GAME_LIBRARY_CHANNEL_ID=1252703550082125916
CHAINCRAFT_SIMULATION_CHANNEL_ID=1348342692379230208

# ChainCraft Bot
CHAINCRAFT_COMMAND_NAME=chaincraft
CHAINCRAFT_DISCORD_BOT_TOKEN=your-bot-token
CHAINCRAFT_DEV_COMMAND_NAME=chaincraft_dev
CHAINCRAFT_DEV_DISCORD_BOT_TOKEN=your-dev-bot-token

# IMAGEGEN
CHAINCRAFT_GAMEBUILDER_DALLE_IMAGEGEN_API_KEY=your-api-key
CHAINCRAFT_GAMEBUILDER_LEO_IMAGEGEN_API_KEY=your-api-key

# Checkpoint Database Configuration
# Options: sqlite (default) or postgres
# Use postgres for production deployments (e.g., Railway) where filesystem is ephemeral
CHECKPOINT_DB_TYPE=sqlite
# PostgreSQL connection string (required when CHECKPOINT_DB_TYPE=postgres)
# Format: postgresql://user:password@host:port/database
# Example: postgresql://postgres:password@localhost:5432/chaincraft
POSTGRES_CONNECTION_STRING=

